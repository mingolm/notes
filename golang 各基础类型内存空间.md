## golang 各基础类型内存空间



#### make new 的区别

- make只能用在(map|channel|slice)，返回类型标头，标头至少包含一个值地址指针，有的还包含其它描述字段。
- new返回的是类型指针，指针指向类型值的起始地址



|     类型     | 大小( byte) | 说明                                                         |
| :----------: | :---------: | ------------------------------------------------------------ |
|     int8     |      1      |                                                              |
|    uint8     |      1      |                                                              |
|    int16     |      2      |                                                              |
|    uint16    |      2      |                                                              |
|    int32     |      4      |                                                              |
|    uint32    |      4      |                                                              |
|    int64     |      8      |                                                              |
|    uint64    |      8      |                                                              |
|     int      |      8      |                                                              |
|     byte     |      1      |                                                              |
|     rune     |      4      |                                                              |
|   uintptr    |      8      |                                                              |
|   float32    |      4      |                                                              |
|   float64    |      8      |                                                              |
|  complex64   |      8      |                                                              |
|  complex128  |     16      |                                                              |
|     bool     |      1      |                                                              |
|    string    |     16      | 底层为指针和 int 两个字短，分别有8byte                       |
|    [N]arr    |     N*T     | 值类型，其大小取决于类型字节数和数组长度的乘积               |
|    struct    |      N      | 值类型，变量的大小取决于成员变量占用大小的和，但涉及内存对齐，可能更多 |
|     map      |      8      | 指针                                                         |
|    slice     |     24      | 地址+长度+容量，各8字节                                      |
|     chan     |      8      | 指针                                                         |
| empty slice  |     24      |                                                              |
| empty struct |      0      | 所有的空结构变量都指向全局的同一个地址                       |
| interface{}  |     16      | 包含两个指针，一个指向内部表 iTable，记录存储的变量类型及相关的方法集，一个指向变量存储的值 |
|  func() {}   |      8      | func 对应的变量实际就是一个指针，指向函数的起始位置。        |
|              |             |                                                              |
|              |             |                                                              |
|              |             |                                                              |
|              |             |                                                              |
|              |             |                                                              |
|              |             |                                                              |
|              |             |                                                              |
|              |             |                                                              |
|              |             |                                                              |
|              |             |                                                              |
|              |             |                                                              |
|              |             |                                                              |

