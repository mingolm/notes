# mysql innodb 引擎

## 为什么选择 b+树

1. b+树为多叉树，层高低，且在范围查询时，只需遍历叶子结点，尽量少的磁盘 io
2. 支持高效的范围查询



## 索引

> 主键索引

叶子节点存的是整行数据。在 `InnoDB `里，主键索引也被称为聚簇索引`（clustered index）`

> 非主键索引（二级索引）

叶子节点内容是主键的值。在 `InnoDB `里，非主键索引也被称为二级索引`（secondary index）`

> 覆盖索引：查询完全覆盖索引，即不需要通过回表的方式获取数据

但是索引的维护也需要成本，需要权衡，`B+ `树为了维护索引有序性，在插入新值的时候需要做必要的维护。如果新插入的值所在的数据页已经满了，根据`B+` 树的算法，这时候需要申请一个新的数据页，然后挪动部分数据过去。这个过程称为**页分裂**。在这种情况下，性能自然会受影响。

> 最左前缀原则

评估标准是，索引的复用能力。因为可以支持最左前缀，所以当已经有了`(a,b)`这个联合索引后，一般就不需要单独在` a` 上建立索引了。因此，**第一原则是，如果通过调整顺序，可以少维护一个索引，那么这个顺序往往就是需要优先考虑采用的。**







#### 